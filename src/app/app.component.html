<div class="container-fluid">
  <div class="row">
    <app-header class="w-100" *ngIf="hideHeaderFooter"></app-header>
    <div id="main" class="container site-content">
      <router-outlet></router-outlet>
      <!-- container -->
    </div><!-- content -->
    <ngx-ui-loader></ngx-ui-loader>
    <app-footer class="w-100" *ngIf="hideHeaderFooter"></app-footer>
  </div>
</div>





<div bsModal #template="bs-modal" class="modal fade" style="  z-index: 9999999" tabindex="-1"
     role="dialog" aria-labelledby="dialog-sizes-name1">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">



      <div *ngIf="type ===  'cookieConsent' " class="modal-body">
        <div class="text-center">
          <h4>Your Property License need to Upgrade </h4>
          <p>This feature is not allowed in your current plan please upgrade it  {{currentPlanData.price}}</p>
        </div>

        <div class="plan-body">
          <div class="col-md-12 cycle-type">
            <input (change)="onSelectBillingCycle(subType)" #subType type="checkbox" id="lol-checkbox">

            <label id="button" for="lol-checkbox">
              <div id="knob"></div>
              <div id="subscribe">Yearly</div>
              <div id="alright">Monthly</div>
            </label>
          </div>
          <div class="row ml-2 mr-2">
            <div *ngFor="let plan of listAllPlans" class=" mt-2 col ml-2 d-flex bg-white-col bt-card flex-column bd pt-0 mr-2  pd-20 ">
              <h4 class="text-center popular-text" [ngStyle]="{background: plan.price ==  currentPlanData.price ? '#3968fa' : null}">
                <ng-container *ngIf="plan.price ==  currentPlanData.price">CURRENT PLAN</ng-container>
              </h4>
              <h3 [ngStyle]="{color: plan.price <=  currentPlanData.price ? '#999' : ''}" class="mt-4 plan-type">{{plan.name}}</h3>
              <p [ngStyle]="{color: plan.price <=  currentPlanData.price ? '#999' : ''}" class="tx-color-03 mg-b-50">{{plan.description}}</p>
              <h1 class="tx-rubik tx-normal mb-3 mg-t-auto price-text">
                <sup [ngStyle]="{color: plan.price <=  currentPlanData.price ? '#999' : ''}" class="doller">$</sup>
                <span [ngStyle]="{color: plan.price <=  currentPlanData.price ? '#999' : ''}" class="font-weight-bold">{{plan.price}}</span>
              </h1>
              <button (click)="onNavigate()"  [disabled]="plan.price <=  currentPlanData.price" class="btn mt-4 mb-4 add-to-cart-btn btn-primary btn-block">
                Choose Plan
              </button>
            </div><!-- col -->
          </div>

          <div class="text-center">
            <a routerLink="/settings/billing/manage" (click)="template.hide()" class="btn mt-3 btn-primary"> <i _aria-hidden="true" class="fa fa-cogs pr-1"></i>  Manage License</a>
            <p class="cancel-btn mt-2 mb-2" (click)="template.hide()">or Cancel & Go Back</p>
          </div>
        </div>

      </div>

      <div *ngIf="type ===  'org' " class="modal-body">
        <div class="text-center">
          <h4>Your Organization License need to Upgrade </h4>
          <p *ngIf="!msg">This feature is not allowed in your current plan please upgrade it {{currentPlanData.price}}</p>
          <p *ngIf="msg">{{msg}}</p>
        </div>

        <div class="plan-body">
          <div class="col-md-12 cycle-type">
            <input (change)="onSelectBillingCycle(subType)" #subType type="checkbox" id="lol-checkbox">

            <label id="button" for="lol-checkbox">
              <div id="knob"></div>
              <div id="subscribe">Yearly</div>
              <div id="alright">Monthly</div>
            </label>
          </div>
          <div class="row ml-2 mr-2">
            <div *ngFor="let plan of listAddonPlan" class=" mt-2 col ml-2 d-flex bg-white-col bt-card flex-column bd pt-0 mr-2  pd-20 ">
              <h4 class="text-center popular-text" [ngStyle]="{background: plan.price ==  currentPlanData.price ? '#3968fa' : null}">
                <ng-container *ngIf="plan.price ==  currentPlanData.price">CURRENT PLAN</ng-container>
              </h4>
              <h3 [ngStyle]="{color: plan.price <=  currentPlanData.price ? '#999' : ''}" class="mt-4 plan-type">{{plan.name}}</h3>
              <p [ngStyle]="{color: plan.price <=  currentPlanData.price ? '#999' : ''}" class="tx-color-03 mg-b-50">{{plan.description}}</p>
              <h1 class="tx-rubik tx-normal mb-3 mg-t-auto price-text">
                <sup [ngStyle]="{color: plan.price <=  currentPlanData.price ? '#999' : ''}" class="doller">$</sup>
                <span [ngStyle]="{color: plan.price <=  currentPlanData.price ? '#999' : ''}" class="font-weight-bold">{{plan.price}}</span>
              </h1>
              <button (click)="onNavigate()"  [disabled]="plan.price <=  currentPlanData.price" class="btn mt-4 mb-4 add-to-cart-btn btn-primary btn-block">
                Choose Plan
              </button>
            </div><!-- col -->
          </div>

          <div class="text-center">
            <a routerLink="/settings/billing/manage" (click)="template.hide()" class="btn mt-3 btn-primary"> <i _aria-hidden="true" class="fa fa-cogs pr-1"></i>  Manage License</a>
            <p class="cancel-btn mt-2 mb-2" (click)="template.hide()">or Cancel & Go Back</p>
          </div>
        </div>

      </div>


      <div *ngIf="type ===  'noPlan' " class="modal-body">
        <div class="text-center">
          <h4>You haven't  assign license to this property</h4>
        </div>

        <div class="text-center">
          <a routerLink="/settings/billing/manage" (click)="template.hide()" class="btn mt-3 btn-primary"> <i _aria-hidden="true" class="fa fa-cogs pr-1"></i>  Manage License</a>
          <p class="cancel-btn mt-2 mb-2" (click)="template.hide()">or Cancel & Go Back</p>
        </div>


      </div>

    </div>
  </div>
</div>





<ng-template #unauth>
  <div class="modal-body text-center">
    <h4>Unauthorized Access Detected </h4>
    <p>{{unAuthMsg.error}}</p>
  </div>
</ng-template>
